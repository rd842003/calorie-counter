<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">
<head><meta charset="utf-8"><title>Dashboard</title>
<style>
:root { --primary:#2f80ed; --bg:#f6f8fb; --card:#ffffff; --muted:#eef3f7; --accent:#2dd4bf; }
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);margin:0;}
.header{background:var(--primary);color:#fff;padding:16px 24px;border-radius:12px;margin:12px;display:flex;justify-content:space-between;align-items:center;box-shadow:0 4px 12px rgba(0,0,0,.15);}
.container{padding:16px 24px;}
.card{background:var(--card);border-radius:16px;padding:16px 20px;box-shadow:0 6px 14px rgba(0,0,0,.12);margin:12px 0;}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:16px}
.btn{border:none;border-radius:12px;padding:12px 18px;box-shadow:0 4px 10px rgba(0,0,0,.1);cursor:pointer;}
.btn-primary{background:var(--accent);color:#000;}
.btn-muted{background:var(--muted);}
.footer{ text-align:center; padding:12px; color:#777;}
.progress{height:10px; background:#e5e7eb; border-radius:10px; position:relative; overflow:hidden;}
.progress .bar{ position:absolute; top:0; left:0; height:100%; background:var(--accent); width:0;}
.small{color:#6b7280;font-size:12px;}
.nav a{margin-left:8px; color:#1f2937; text-decoration:none;}
label{display:block;margin:8px 0 4px;}
input,select{width:100%; padding:10px;border-radius:10px;border:1px solid #e5e7eb;}
form .grid{grid-template-columns:repeat(5,1fr);gap:8px; align-items:end;}
table{width:100%; border-collapse:collapse;}
th,td{padding:8px 10px; border-bottom:1px solid #eaecef;}
</style>
</head>
<body>
<div class="header">
  <div>
    <div style="font-size:24px;font-weight:700">Dashboard (Today Summary)</div>
    <div class="small">Calorie Counter App</div>
  </div>
  <div class="nav">
    <a href="/dashboard">Dashboard</a>
    <a href="/add">Add Food</a>
    <a href="/history">History</a>
  </div>
</div>

<div class="container">
  <div class="card">
    <div style="font-weight:600">Calories</div>
    <div th:text="${totals.calories} + ' / ' + ${goalCalories}"></div>
    <div class="progress"><div class="bar" th:style="'width:' + ${percent} + '%;'"></div></div>
    <div class="small" th:text="'Progress ' + ${percent} + '%'"></div>
  </div>

  <div class="card">
    <div style="font-weight:600">Macros</div>
    <div th:text="'Protein ' + ${totals.protein} + '/' + ${goalProtein} + 'g • Carbs ' + ${totals.carbs} + '/' + ${goalCarbs} + 'g • Fat ' + ${totals.fat} + '/' + ${goalFat} + 'g'"></div>
  </div>

  <div class="grid">
    <div class="card">
      <div style="font-weight:600">Today</div>
      <ul>
        <li th:each="e : ${entries}" th:text="${e.description} + ' — ' + ${e.calories} + ' kcal'"></li>
      </ul>
    </div>
    <div class="card">
      <div class="small">Quick links</div>
      <a class="btn btn-primary" href="/add">Add Food</a>
      <a class="btn btn-muted" href="/history">History</a>
    </div>
  </div>
</div>

<div class="footer small">Calorie Counter App</div>
</body>
</html>
